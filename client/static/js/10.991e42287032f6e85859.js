webpackJsonp([10],{IoP6:function(t,e){},rJK5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),o=a.n(n),s={name:"StandardTable",props:["bordered","loading","columns","dataSource","rowKey","pagination","selectedRows"],data:function(){return{needTotalList:[],selectedRowKeys:[]}},methods:{updateSelect:function(t,e){this.selectedRowKeys=t;var a=this.needTotalList;this.needTotalList=a.map(function(t){return o()({},t,{total:e.reduce(function(e,a){return e+a[t.dataIndex]},0)})}),this.$emit("change",t,e)},initTotalList:function(t){var e=[];return t.forEach(function(t){t.needTotal&&e.push(o()({},t,{total:0}))}),e}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function(t){this.needTotalList=this.needTotalList.map(function(e){return o()({},e,{total:t.reduce(function(t,a){return t+a[e.dataIndex]},0)})})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standard-table"},[a("div",{staticClass:"alert"},[a("a-alert",{attrs:{type:"info","show-icon":!0}},[a("div",{attrs:{slot:"message"},slot:"message"},[t._v("\n        已选择 "),a("a",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.selectedRows.length))]),t._v(" 项  \n        "),t._l(t.needTotalList,function(e,n){return e.needTotal?[t._v("\n          "+t._s(e.title)+"总计 \n          "),a("a",{key:n,staticStyle:{"font-weight":"600"}},[t._v("\n          "+t._s(e.customRender?e.customRender(e.total):e.total)+"\n          ")]),t._v("  \n        ")]:t._e()}),t._v(" "),a("a",{staticStyle:{"margin-left":"24px"}},[t._v("清空")])],2)])],1),t._v(" "),a("a-table",{attrs:{bordered:t.bordered,loading:t.loading,columns:t.columns,dataSource:t.dataSource,rowKey:t.rowKey,pagination:t.pagination,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.updateSelect}}})],1)},staticRenderFns:[]};for(var r=a("VU/8")(s,l,!1,function(t){a("IoP6")},"data-v-87229112",null).exports,d=[{title:"规则编号",dataIndex:"no"},{title:"描述",dataIndex:"description"},{title:"服务调用次数",dataIndex:"callNo",sorter:!0,needTotal:!0,customRender:function(t){return t+" 次"}},{title:"状态",dataIndex:"status",needTotal:!0},{title:"更新时间",dataIndex:"updatedAt",sorter:!0}],i=[],c=0;c<100;c++)i.push({key:c,no:"NO "+c,description:"这是一段描述",callNo:Math.floor(1e3*Math.random()),status:Math.floor(10*Math.random())%4,updatedAt:"2018-07-26"});var u={name:"QueryList",components:{StandardTable:r},data:function(){return{advanced:!0,columns:d,dataSource:i,selectedRowKeys:[],selectedRows:[]}},methods:{toggleAdvanced:function(){this.advanced=!this.advanced},onchange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},remove:function(){var t=this;this.dataSource=this.dataSource.filter(function(e){return t.selectedRowKeys.indexOf(e.key)<0}),this.selectedRows=this.selectedRows.filter(function(e){return t.selectedRowKeys.indexOf(e.key)<0})},addNew:function(){this.dataSource.unshift({key:this.dataSource.length,no:"NO "+this.dataSource.length,description:"这是一段描述",callNo:Math.floor(1e3*Math.random()),status:Math.floor(10*Math.random())%4,updatedAt:"2018-07-26"})},handleMenuClick:function(t){"delete"===t.key&&this.remove()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",[a("div",{class:t.advanced?"search":null},[a("a-form",{attrs:{layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"规则编号",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"使用状态",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),t._v(" "),a("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),t._v(" "),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"调用次数",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1)],1),t._v(" "),t.advanced?a("a-row",[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"更新日期",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"使用状态",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),t._v(" "),a("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),t._v(" "),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"描述",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"}})],1)],1)],1):t._e()],1),t._v(" "),a("span",{staticStyle:{float:"right","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"}},[t._v("查询")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")]),t._v(" "),a("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n          "+t._s(t.advanced?"收起":"展开")+"\n          "),a("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],1),t._v(" "),a("div",[a("div",{staticClass:"operator"},[a("a-button",{attrs:{type:"primary"},on:{click:t.addNew}},[t._v("新建")]),t._v(" "),a("a-button",[t._v("批量操作")]),t._v(" "),a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleMenuClick},slot:"overlay"},[a("a-menu-item",{key:"delete"},[t._v("删除")]),t._v(" "),a("a-menu-item",{key:"audit"},[t._v("审批")])],1),t._v(" "),a("a-button",[t._v("\n          更多操作 "),a("a-icon",{attrs:{type:"down"}})],1)],1)],1),t._v(" "),a("standard-table",{attrs:{columns:t.columns,dataSource:t.dataSource,selectedRows:t.selectedRows},on:{change:t.onchange}})],1)])},staticRenderFns:[]};var v=a("VU/8")(u,p,!1,function(t){a("zM8c")},"data-v-10723af6",null);e.default=v.exports},zM8c:function(t,e){}});
//# sourceMappingURL=10.991e42287032f6e85859.js.map